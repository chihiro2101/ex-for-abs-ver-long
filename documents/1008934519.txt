High-dynamic-range imaging

tone mapping . tone mapping reduces the dynamic range , or contrast ratio , of an entire image while retaining localized contrast . although it is a distinct operation , tone mapping is often applied to hdri files by the same software package . several software applications are available on the pc , mac and linux platforms for producing hdr files and tone mapped images . notable titles include : adobe photoshop affinity photo aurora hdr dynamic photo hdr easyhdr gimp hdr photostudio luminance hdr nik collection hdr efex pro oloneo photoengine ptgui sns-hdr . comparison with traditional digital images . information stored in high-dynamic-range images typically corresponds to the physical values of luminance or radiance that can be observed in the real world . this is different from traditional digital images , which represent colors as they should appear on a monitor or a paper print . therefore , hdr image formats are often called scene-referred , in contrast to traditional digital images , which are device-referred or output-referred . furthermore , traditional images are usually encoded for the human visual system ( maximizing the visual information stored in the fixed number of bits ) , which is usually called gamma encoding or gamma correction . the values stored for hdr images are often gamma correction ( power law ) or logarithmically encoded , or floating point linear values , since fixed-point linear encodings are increasingly inefficient over higher dynamic ranges . hdr images often do n't use fixed ranges per color channel—other than traditional images—to represent many more colors over a much wider dynamic range . for that purpose , they do not use integer values to represent the single color channels ( e.g . , 0-255 in an 8 bit per pixel interval for red , green and blue ) but instead use a floating point representation . common are 16-bit ( half precision ) or 32-bit floating point numbers to represent hdr pixels . however , when the appropriate transfer function is used , hdr pixels for some applications can be represented with a color depth that has as few as 10–12 & nbsp ; bits for luminance and 8 & nbsp ; bits for chrominance without introducing any visible quantization artifacts . . history of hdr photography . mid 19th century . the idea of using several exposures to adequately reproduce a too-extreme range of luminance was pioneered as early as the 1850s by gustave le gray to render seascapes showing both the sky and the sea . such rendering was impossible at the time using standard methods , as the luminosity range was too extreme . le gray used one negative for the sky , and another one with a longer exposure for the sea , and combined the two into one picture in positive . . mid 20th century . manual tone mapping was accomplished by dodging and burning & nbsp ; – selectively increasing or decreasing the exposure of regions of the photograph to yield better tonality reproduction . this was effective because the dynamic range of the negative is significantly higher than would be available on the finished positive paper print when that is exposed via the negative in a uniform manner . an excellent example is the photograph schweitzer at the lamp by w . eugene smith , from his 1954 photo essay a man of mercy on albert schweitzer and his humanitarian work in french equatorial africa . the image took five days to reproduce the tonal range of the scene , which ranges from a bright lamp ( relative to the scene ) to a dark shadow . ansel adams elevated dodging and burning to an art form . many of his famous prints were manipulated in the darkroom with these two methods . adams wrote a comprehensive book on producing prints called the print , which prominently features dodging and burning , in the context of his zone system . with the advent of color photography , tone mapping in the darkroom was no longer possible due to the specific timing needed during the developing process of color film . photographers looked to film manufacturers to design new film stocks with improved response , or continued to shoot in black and white to use tone mapping methods . color film capable of directly recording high-dynamic-range images was developed by charles wyckoff and eg & g '' in the course of a contract with the united states air force '' . this xr film had three emulsion layers , an upper layer having an asa speed rating of 400 , a middle layer with an intermediate rating , and a lower layer with an asa rating of 0.004 . the film was processed in a manner similar to color films , and each layer produced a different color . the dynamic range of this extended range film has been estimated as 1:10 8 . it has been used to photograph nuclear explosions , for astronomical photography , for spectrographic research , and for medical imaging . wyckoff 's detailed pictures of nuclear explosions appeared on the cover of life magazine in the mid-1950s . late 20th century . georges cornuéjols and licensees of his patents ( brdi , hymatom ) introduced the principle of hdr video image , in 1986 , by interposing a matricial lcd screen in front of the camera 's image sensor , increasing the sensors dynamic by five stops . the concept of neighborhood tone mapping was applied to video cameras in 1988 by a group from the technion in israel , led by oliver hilsenrath and yehoshua y . zeevi . technion researchers filed for a patent on this concept in 1991 , and several related patents in 1992 and 1993 . in february and april 1990 , georges cornuéjols introduced the first real-time hdr camera that combined two images captured by a sensor or simultaneously by two sensors of the camera . this process is known as bracketing used for a video stream . in 1991 , the first commercial video camera was introduced that performed real-time capturing of multiple images with different exposures , and producing an hdr video image , by hymatom , licensee of georges cornuéjols . also in 1991 , georges cornuéjols introduced the hdr+ image principle by non-linear accumulation of images to increase the sensitivity of the camera : for low-light environments , several successive images are accumulated , thus increasing the signal to noise ratio . in 1993 , another commercial medical camera producing an hdr video image , by the technion . modern hdr imaging uses a completely different approach , based on making a high-dynamic-range luminance or light map using only global image operations ( across the entire image ) , and then tone mapping the result . global hdr was first introduced in 1993 '' compositing multiple pictures of the same scene '' , by steve mann , in is & t 's 46th annual conference , cambridge , massachusetts , may 9–14 , 1993 resulting in a mathematical theory of differently exposed pictures of the same subject matter that was published in 1995 by steve mann and rosalind picard . on october 28 , 1998 , ben sarao created one of the first nighttime hdr+g ( high dynamic range + graphic image ) of sts-95 on the launch pad at nasa 's kennedy space center . it consisted of four film images of the space shuttle at night that were digital compositing with additional digital graphic elements . the image was first exhibited at nasa headquarters great hall , washington dc , in 1999 and then published in hasselblad forum . the advent of consumer digital cameras produced a new demand for hdr imaging to improve the light response of digital camera sensors , which had a much smaller dynamic range than film . steve mann developed and patented the global-hdr method for producing digital images having extended dynamic range at the mit media lab . mann 's method involved a two-step procedure : first , generate one floating point image array by global-only image operations ( operations that affect all pixels identically , without regard to their local neighborhoods ) . second , convert this image array , using local neighborhood processing ( tone-remapping , etc . ) , into an hdr image . the image array generated by the first step of mann 's process is called a lightspace image , lightspace picture , or radiance map . another benefit of global-hdr imaging is that it provides access to the intermediate light or radiance map , which has been used for computer vision , and other image processing operations . . 21st century . in feb 2001 , the dynamic ranger technique was demonstrated , using multiple photos with different exposure levels to accomplish high dynamic range similar to the naked eye . in 2005 , adobe systems introduced several new features in photoshop cs2 including merge to hdr , 32 bit floating point image support , and hdr tone mapping . on june 30 , 2016 , microsoft added support for the digital compositing of hdr images to windows 10 using the universal windows platform . . examples . hdr processing . this is an example of four standard dynamic range images that are combined to produce three resulting tone mapped images : original images image : stlouisarchmultexpev-4.72.jpg –4 stops image : stlouisarchmultexpev-1.82.jpg –2 stops image : stlouisarchmultexpev+1.51.jpg +2 stops image : stlouisarchmultexpev+4.09.jpg +4 stops results after processing file : stlouisarchmultexpcdr.jpg simple contrast reduction file : stlouisarchmultexptonemapped.jpg local tone mapping file : stlouisarchmultexpev sns-hdr.jpg alt natural tone mapping natural tone mapping this is an example of a scene with a very wide dynamic range : source images image : hdri sample scene window - 01.jpg –6 ev image : hdri sample scene window - 02.jpg –5 ev image : hdri sample scene window - 03.jpg –4 ev image : hdri sample scene window - 04.jpg –3 ev image : hdri sample scene window - 05.jpg –2 ev image : hdri sample scene window - 06.jpg –1 ev image : hdri sample scene window - 07.jpg 0 ev image : hdri sample scene window - 08.jpg +1 ev image : hdri sample scene window - 09.jpg +2 ev image : hdri sample scene window - 10.jpg +3 ev image : hdri sample scene window - 11.jpg +4 ev image : hdri sample scene window - 12.jpg +5 ev results after processing image : hdri sample scene window.jpg natural tone mapping . multiple exposures anomalies . a fast-moving subject ( or unsteady camera ) will result in a '' ghost '' effect or a staggered-blur strobe effect , as a result of the merged images not being identical , but each capturing the moving subject at a different moment in time , with its position changed . sudden changes in the lighting conditions ( e.g . a cloud blocking the sun ) can also interfere with the desired results , by producing one or more hdr layers that do have the luminosity expected by an automated hdr system , though one might still be able to produce a reasonable hdr image manually in software by rearranging the image layers to merge in order of their actual luminosity . hdr sensors . modern cmos image sensor can often capture a high dynamic range from a single exposure . the wide dynamic range of the captured image is non-linearly compressed into a smaller dynamic range electronic representation . however , with proper processing , the information from a single exposure can be used to create an hdr image . such hdr imaging is used in extreme dynamic range applications like welding or automotive work . in security cameras the term used instead of hdr is '' wide dynamic range '' . because of the nonlinearity of some sensors image artifacts can be common . some other cameras designed for use in security applications can automatically provide two or more images for each frame , with changing exposure . for example , a sensor for 30fps video will give out 60fps with the odd frames at a short exposure time and the even frames at a longer exposure time . some of the sensors on modern phones and cameras may even combine the two images on-chip so that a wider dynamic range without in-pixel compression is directly available to the user for display or processing .