longdendale is a valley in the peak district of england , north of glossop and southwest of holmfirth . the name means '' long wooded valley '' and the valley is mostly in the counties of derbyshire and greater manchester .